CREATE TABLE IF NOT EXISTS public."importEntity" (
  "id" SERIAL,
  "importId" INTEGER,
  "newData" JSON NOT NULL,
  "oldData" JSON,
  "createdById" INTEGER,
  "deletedById" INTEGER,
  "enabled" BOOLEAN NOT NULL default true,
  "deleted" BOOLEAN NOT NULL default false,
  "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
  "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL
);

ALTER TABLE ONLY public."importEntity"
  ADD CONSTRAINT importEntity_pkey PRIMARY KEY (id);

ALTER TABLE ONLY public."importEntity"
  ADD CONSTRAINT "importEntity_importId_fkey" FOREIGN KEY ("importId")
  REFERENCES public."import"(id) ON UPDATE CASCADE ON DELETE SET NULL;

ALTER TABLE ONLY public."importEntity"
  ADD CONSTRAINT "importEntity_createdById_fkey" FOREIGN KEY ("createdById")
  REFERENCES public."user"(id) ON UPDATE CASCADE ON DELETE SET NULL;

ALTER TABLE ONLY public."importEntity"
  ADD CONSTRAINT "importEntity_deletedById_fkey" FOREIGN KEY ("deletedById")
  REFERENCES public."user"(id) ON UPDATE CASCADE ON DELETE SET NULL;
